============================= test session starts =============================
platform win32 -- Python 3.13.2, pytest-8.4.2, pluggy-1.6.0
rootdir: C:\Users\usewr\dbwdi\backend
configfile: pytest.ini
plugins: anyio-4.11.0, asyncio-1.2.0, cov-7.0.0
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 19 items

tests\integration\test_rag_modular.py ...................                [100%]

============================== warnings summary ===============================
.venv\Lib\site-packages\ctranslate2\__init__.py:8
  C:\Users\usewr\dbwdi\backend\.venv\Lib\site-packages\ctranslate2\__init__.py:8: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
    import pkg_resources

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=============================== tests coverage ================================
_______________ coverage: platform win32, python 3.13.2-final-0 _______________

Name                              Stmts   Miss  Cover   Missing
---------------------------------------------------------------
src\app\__init__.py                   2      0   100%
src\app\core\__init__.py              0      0   100%
src\app\core\config.py               21      0   100%
src\app\core\database.py             16      5    69%   14, 28-30, 34-35
src\app\db.py                         2      0   100%
src\app\main.py                      44     10    77%   46-49, 53, 74-75, 79, 83, 87
src\app\models\__init__.py            5      0   100%
src\app\models\foods.py               9      0   100%
src\app\models\foods_extra.py        20      0   100%
src\app\models\meals.py              24      0   100%
src\app\models\recipes.py            31      0   100%
src\app\models\wearables.py          30      0   100%
src\app\rag\__init__.py               4      0   100%
src\app\rag\indexer.py               93      9    90%   58, 61-62, 118, 157, 185-187, 225
src\app\rag\postprocess.py          102      7    93%   47, 67, 106, 110, 120, 138, 276
src\app\rag\preprocess.py            65      4    94%   30, 48, 91, 161
src\app\routers\__init__.py          10      0   100%
src\app\routers\advisor.py          996    833    16%   26-27, 35-36, 102, 124-169, 180-183, 189-210, 214-220, 229-248, 253-263, 266-269, 274-280, 283-284, 298-307, 311-333, 342-396, 407-471, 476-483, 493-542, 546-566, 581-582, 594, 598-605, 609-611, 615-635, 639-642, 646-656, 660-675, 679-696, 700-709, 713-724, 728-741, 761-898, 901-904, 921-966, 986-1141, 1164-1178, 1219-1233, 1237-1251, 1255-1258, 1271-1283, 1286-1292, 1295-1308, 1312-1335, 1339-1364, 1368-1488, 1494-1552, 1556-1738
src\app\routers\demo_ui.py            9      1    89%   14
src\app\routers\foods.py             27     10    63%   24-34, 38-41
src\app\routers\foods_lookup.py     204    149    27%   22-24, 27-33, 37-59, 62-82, 86-94, 98-110, 113-131, 171-221, 225-278, 283-284, 289-298
src\app\routers\health.py             5      1    80%   7
src\app\routers\ingest.py            67     49    27%   19-24, 41-108
src\app\routers\meals.py             95     69    27%   25-30, 42-66, 87-140, 152-192, 197-205, 218-223, 228-235
src\app\routers\meals_ingest.py     113     72    36%   49-50, 53-57, 60-102, 105-106, 111-162
src\app\routers\nlp.py              130     95    27%   45-54, 60-70, 74-79, 86-105, 118-155, 168-173, 188-235
src\app\routers\summary.py          131     80    39%   63-85, 98-101, 106-108, 120-136, 150-224, 254-267
src\app\routers\wearables.py         57     44    23%   20, 38-78, 93-113
src\app\utils\nutrition.py           30     17    43%   15, 35-44, 53-59, 63
---------------------------------------------------------------
TOTAL                              2342   1455    38%
======================== 19 passed, 1 warning in 1.77s ========================
